package com.sean.takeastand;

/**
 * Created by Sean on 2014-09-03.
 */
import android.app.AlarmManager;
import android.app.PendingIntent;
import android.content.Context;
import android.content.Intent;
import android.util.Log;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.Date;

public class NextDayAlarmSetter
{
    private static final String TAG = TAG;

    /*
    Probably best to just rewrite this class;
     */
    private void cancelAllAlarms(Context paramContext)
    {
        new RepeatingAlarmController(paramContext).cancelAlarm();
    }

    private Date nextActivatedDay(int paramInt1, int paramInt2, int paramInt3, int paramInt4, int paramInt5, int paramInt6, int paramInt7)
    {
        switch (Calendar.getInstance().get(7))
        {
            default:
                Log.i(TAG, "invalid date");
        }
        do
        {
            do
            {
                do
                {
                    do
                    {
                        do
                        {
                            do
                            {
                                {
                                    return null;
                                    if (paramInt2 == 1)
                                    {
                                        Calendar localCalendar49 = Calendar.getInstance();
                                        localCalendar49.set(7, 2);
                                        return localCalendar49.getTime();
                                    }
                                    if (paramInt3 == 1)
                                    {
                                        Calendar localCalendar48 = Calendar.getInstance();
                                        localCalendar48.set(7, 3);
                                        return localCalendar48.getTime();
                                    }
                                    if (paramInt4 == 1)
                                    {
                                        Calendar localCalendar47 = Calendar.getInstance();
                                        localCalendar47.set(7, 4);
                                        return localCalendar47.getTime();
                                    }
                                    if (paramInt5 == 1)
                                    {
                                        Calendar localCalendar46 = Calendar.getInstance();
                                        localCalendar46.set(7, 5);
                                        return localCalendar46.getTime();
                                    }
                                    if (paramInt6 == 1)
                                    {
                                        Calendar localCalendar45 = Calendar.getInstance();
                                        localCalendar45.set(7, 6);
                                        return localCalendar45.getTime();
                                    }
                                    if (paramInt7 == 1)
                                    {
                                        Calendar localCalendar44 = Calendar.getInstance();
                                        localCalendar44.set(7, 7);
                                        return localCalendar44.getTime();
                                    }
                                } while (paramInt1 != 1);
                                Calendar localCalendar43 = Calendar.getInstance();
                                localCalendar43.set(7, 1);
                                return localCalendar43.getTime();
                                if (paramInt3 == 1)
                                {
                                    Calendar localCalendar42 = Calendar.getInstance();
                                    localCalendar42.set(7, 3);
                                    return localCalendar42.getTime();
                                }
                                if (paramInt4 == 1)
                                {
                                    Calendar localCalendar41 = Calendar.getInstance();
                                    localCalendar41.set(7, 4);
                                    return localCalendar41.getTime();
                                }
                                if (paramInt5 == 1)
                                {
                                    Calendar localCalendar40 = Calendar.getInstance();
                                    localCalendar40.set(7, 5);
                                    return localCalendar40.getTime();
                                }
                                if (paramInt6 == 1)
                                {
                                    Calendar localCalendar39 = Calendar.getInstance();
                                    localCalendar39.set(7, 6);
                                    return localCalendar39.getTime();
                                }
                                if (paramInt7 == 1)
                                {
                                    Calendar localCalendar38 = Calendar.getInstance();
                                    localCalendar38.set(7, 7);
                                    return localCalendar38.getTime();
                                }
                                if (paramInt1 == 1)
                                {
                                    Calendar localCalendar37 = Calendar.getInstance();
                                    localCalendar37.set(7, 1);
                                    return localCalendar37.getTime();
                                }
                            } while (paramInt2 != 1);
                            Calendar localCalendar36 = Calendar.getInstance();
                            localCalendar36.set(7, 2);
                            return localCalendar36.getTime();
                            if (paramInt4 == 1)
                            {
                                Calendar localCalendar35 = Calendar.getInstance();
                                localCalendar35.set(7, 4);
                                return localCalendar35.getTime();
                            }
                            if (paramInt5 == 1)
                            {
                                Calendar localCalendar34 = Calendar.getInstance();
                                localCalendar34.set(7, 5);
                                return localCalendar34.getTime();
                            }
                            if (paramInt6 == 1)
                            {
                                Calendar localCalendar33 = Calendar.getInstance();
                                localCalendar33.set(7, 6);
                                return localCalendar33.getTime();
                            }
                            if (paramInt7 == 1)
                            {
                                Calendar localCalendar32 = Calendar.getInstance();
                                localCalendar32.set(7, 7);
                                return localCalendar32.getTime();
                            }
                            if (paramInt1 == 1)
                            {
                                Calendar localCalendar31 = Calendar.getInstance();
                                localCalendar31.set(7, 1);
                                return localCalendar31.getTime();
                            }
                            if (paramInt2 == 1)
                            {
                                Calendar localCalendar30 = Calendar.getInstance();
                                localCalendar30.set(7, 2);
                                return localCalendar30.getTime();
                            }
                        } while (paramInt3 != 1);
                        Calendar localCalendar29 = Calendar.getInstance();
                        localCalendar29.set(7, 3);
                        return localCalendar29.getTime();
                        if (paramInt5 == 1)
                        {
                            Calendar localCalendar28 = Calendar.getInstance();
                            localCalendar28.set(7, 5);
                            return localCalendar28.getTime();
                        }
                        if (paramInt6 == 1)
                        {
                            Calendar localCalendar27 = Calendar.getInstance();
                            localCalendar27.set(7, 6);
                            return localCalendar27.getTime();
                        }
                        if (paramInt7 == 1)
                        {
                            Calendar localCalendar26 = Calendar.getInstance();
                            localCalendar26.set(7, 7);
                            return localCalendar26.getTime();
                        }
                        if (paramInt1 == 1)
                        {
                            Calendar localCalendar25 = Calendar.getInstance();
                            localCalendar25.set(7, 1);
                            return localCalendar25.getTime();
                        }
                        if (paramInt2 == 1)
                        {
                            Calendar localCalendar24 = Calendar.getInstance();
                            localCalendar24.set(7, 2);
                            return localCalendar24.getTime();
                        }
                        if (paramInt3 == 1)
                        {
                            Calendar localCalendar23 = Calendar.getInstance();
                            localCalendar23.set(7, 3);
                            return localCalendar23.getTime();
                        }
                    } while (paramInt4 != 1);
                    Calendar localCalendar22 = Calendar.getInstance();
                    localCalendar22.set(7, 4);
                    return localCalendar22.getTime();
                    if (paramInt6 == 1)
                    {
                        Calendar localCalendar21 = Calendar.getInstance();
                        localCalendar21.set(7, 6);
                        return localCalendar21.getTime();
                    }
                    if (paramInt7 == 1)
                    {
                        Calendar localCalendar20 = Calendar.getInstance();
                        localCalendar20.set(7, 7);
                        return localCalendar20.getTime();
                    }
                    if (paramInt1 == 1)
                    {
                        Calendar localCalendar19 = Calendar.getInstance();
                        localCalendar19.set(7, 1);
                        return localCalendar19.getTime();
                    }
                    if (paramInt2 == 1)
                    {
                        Calendar localCalendar18 = Calendar.getInstance();
                        localCalendar18.set(7, 2);
                        return localCalendar18.getTime();
                    }
                    if (paramInt3 == 1)
                    {
                        Calendar localCalendar17 = Calendar.getInstance();
                        localCalendar17.set(7, 3);
                        return localCalendar17.getTime();
                    }
                    if (paramInt4 == 1)
                    {
                        Calendar localCalendar16 = Calendar.getInstance();
                        localCalendar16.set(7, 4);
                        return localCalendar16.getTime();
                    }
                } while (paramInt5 != 1);
                Calendar localCalendar15 = Calendar.getInstance();
                localCalendar15.set(7, 5);
                return localCalendar15.getTime();
                if (paramInt7 == 1)
                {
                    Calendar localCalendar14 = Calendar.getInstance();
                    localCalendar14.set(7, 7);
                    return localCalendar14.getTime();
                }
                if (paramInt1 == 1)
                {
                    Calendar localCalendar13 = Calendar.getInstance();
                    localCalendar13.set(7, 1);
                    return localCalendar13.getTime();
                }
                if (paramInt2 == 1)
                {
                    Calendar localCalendar12 = Calendar.getInstance();
                    localCalendar12.set(7, 2);
                    return localCalendar12.getTime();
                }
                if (paramInt3 == 1)
                {
                    Calendar localCalendar11 = Calendar.getInstance();
                    localCalendar11.set(7, 3);
                    return localCalendar11.getTime();
                }
                if (paramInt4 == 1)
                {
                    Calendar localCalendar10 = Calendar.getInstance();
                    localCalendar10.set(7, 4);
                    return localCalendar10.getTime();
                }
                if (paramInt5 == 1)
                {
                    Calendar localCalendar9 = Calendar.getInstance();
                    localCalendar9.set(7, 5);
                    return localCalendar9.getTime();
                }
            } while (paramInt6 != 1);
            Calendar localCalendar8 = Calendar.getInstance();
            localCalendar8.set(7, 6);
            return localCalendar8.getTime();
            if (paramInt7 == 1)
            {
                Calendar localCalendar7 = Calendar.getInstance();
                localCalendar7.set(7, 7);
                return localCalendar7.getTime();
            }
            if (paramInt1 == 1)
            {
                Calendar localCalendar6 = Calendar.getInstance();
                localCalendar6.set(7, 1);
                return localCalendar6.getTime();
            }
            if (paramInt2 == 1)
            {
                Calendar localCalendar5 = Calendar.getInstance();
                localCalendar5.set(7, 2);
                return localCalendar5.getTime();
            }
            if (paramInt3 == 1)
            {
                Calendar localCalendar4 = Calendar.getInstance();
                localCalendar4.set(7, 3);
                return localCalendar4.getTime();
            }
            if (paramInt4 == 1)
            {
                Calendar localCalendar3 = Calendar.getInstance();
                localCalendar3.set(7, 4);
                return localCalendar3.getTime();
            }
            if (paramInt5 == 1)
            {
                Calendar localCalendar2 = Calendar.getInstance();
                localCalendar2.set(7, 5);
                return localCalendar2.getTime();
            }
        } while (paramInt6 != 1);
        Calendar localCalendar1 = Calendar.getInstance();
        localCalendar1.set(7, 6);
        return localCalendar1.getTime();
    }

    private void setAlarm(Date paramDate, Context paramContext)
    {
        long l = System.currentTimeMillis() + (paramDate.getTime() - System.currentTimeMillis());
        PendingIntent localPendingIntent = PendingIntent.getBroadcast(paramContext, 0, new Intent(paramContext, StartDayReceiver.class), 268435456);
        ((AlarmManager)paramContext.getSystemService("alarm")).set(0, l, localPendingIntent);
    }

    public void setNextDayAlarm(Context paramContext)
    {
        cancelAllAlarms(paramContext);
        AlarmsDatabaseAdapter localAlarmsDatabaseAdapter = new AlarmsDatabaseAdapter(paramContext);
        Object localObject = new Date(1L);
        String str = "";
        new ArrayList();
        ArrayList localArrayList1 = localAlarmsDatabaseAdapter.getUIDofActivated();
        int i;
        if (!localArrayList1.isEmpty())
        {
            i = 0;
            if (i < localArrayList1.size()) {}
        }
        else
        {
            if ((str.equals("")) && (!((Date)localObject).equals(Integer.valueOf(1)))) {
                setAlarm((Date)localObject, paramContext);
            }
            return;
        }
        new ArrayList();
        ArrayList localArrayList2 = localAlarmsDatabaseAdapter.getActivatedDays(Integer.parseInt((String)localArrayList1.get(i)));
        Date localDate = nextActivatedDay(Integer.parseInt((String)localArrayList2.get(0)), Integer.parseInt((String)localArrayList2.get(1)), Integer.parseInt((String)localArrayList2.get(2)), Integer.parseInt((String)localArrayList2.get(3)), Integer.parseInt((String)localArrayList2.get(4)), Integer.parseInt((String)localArrayList2.get(5)), Integer.parseInt((String)localArrayList2.get(6)));
        if (((Date)localObject).equals(Integer.valueOf(1)))
        {
            localObject = localDate;
            str = (String)localArrayList1.get(i);
        }
        for (;;)
        {
            i++;
            break;
            if (localDate.before((Date)localObject))
            {
                localObject = localDate;
                str = (String)localArrayList1.get(i);
            }
        }
    }

    public boolean setNextDayAlarm(Context paramContext, int paramInt1, int paramInt2, int paramInt3, int paramInt4, int paramInt5, int paramInt6, int paramInt7)
    {
        cancelAllAlarms(paramContext);
        Date localDate = nextActivatedDay(paramInt1, paramInt2, paramInt3, paramInt4, paramInt5, paramInt6, paramInt7);
        if (localDate != null)
        {
            setAlarm(localDate, paramContext);
            return true;
        }
        return false;
    }
}
